<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title>caretakerd manual</title>
    <style>
        {{includeTemplateCss}}
    </style>
    <style>
        body{
            box-sizing:border-box;
            min-width:200px;
            max-width:980px;
            margin:0 auto;
            padding:45px;
        }
        .dataType-kind {
            font-size: 0.9em;
            font-weight: normal;
        }
        .markdown-body .anchor {
            float: right;
            display: block;
            padding: 0;
            margin: 0;
        }
        .configuration-structure-element {
            font-weight: bold;
        }
        .configuration-structure-hint,
        .configuration-structure-hint a {
            color: #aaaaaa;
        }
    </style>
</head>
<body>
<article class="markdown-body">

    {{header 1 "" "" "caretakerd manual"}}

    {{header 2 "configuration" "" "Configuration"}}

    {{header 3 "configuration.structure" "" "Structure"}}
    <pre class="configuration-structure"><code>{{renderDefinitionStructure 0 .RootId}}</code></pre>

    {{header 2 "dataTypes" "" "Data types"}}

    {{header 3 "dataType.overview" "" "Overview"}}
    <ul class="dataTypes-overview">
        {{range .TopLevelDefinitions}}
            <li>
                <code class="dataType-id">{{ renderValueType .Id }}</code>
            </li>
        {{end}}
    </ul>

    {{range .TopLevelDefinitions}}
        <div class="dataType">
            {{$simple := toSimple .}}

            <h3 class="dataType-spec">
                {{renderDataTypeAnchor . ""}}
                <code class="dataType-id">{{transformIdType .Id}}</code>
                {{if $simple}}
                    <code class="dataType-kind">{{renderValueType $simple.ValueType}}</code>
                {{else}}
                    <span class="dataType-kind">{{.TypeName}}</span>
                {{end}}

            </h3>

            <div class="dataType-description">{{renderMarkdown .Comment}}</div>

            {{$object := toObject .}}
            {{if $object}}
                <h4 class="dataType-children dataType-properties">Properties</h4>
                <ul>
                {{range $object.Children}}
                    {{$property := toProperty .}}
                    <li class="dataType-property">
                        <h5 class="dataType-spec">
                            {{renderDataTypeAnchor $object $property.Key}}
                            <code class="dataType-id">{{html $property.Key}}</code>
                            <code class="dataType-kind">{{renderValueType $property.ValueType}}</code>
                        </h5>

                        <div class="dataType-description">{{renderMarkdown $property.Comment}}</div>
                    </li>
                {{end}}
                </ul>
            {{end}}

            {{$enum := toEnum .}}
            {{if $enum}}
                <h4 class="dataType-children dataType-elements">Elements</h4>
                <ul>
                {{range $enum.Children}}
                    {{$element := toElement .}}
                    <li class="dataType-element">
                        <h5 class="dataType-spec">
                            {{renderDataTypeAnchor $enum $element.Key}}
                            <code class="dataType-id">{{html $element.Key}}</code>
                        </h5>

                        <div class="dataType-description">{{renderMarkdown $element.Comment}}</div>
                    </li>
                {{end}}
                </ul>
            {{end}}

        </div>
    {{end}}

</article>
</body>
</html>
